tasks:
  - name: health-check
    actions:
      - description: Mattermost Operator Health Check
        wait:
          cluster:
            kind: Deployment
            name: mattermost-operator
            namespace: mattermost-operator

      - description: Mattermost Health Check
        wait:
          cluster:
            kind: Deployment
            name: mattermost
            namespace: mattermost

  - name: ingress
    actions:
      - description: Mattermost UI Health Check
        wait:
          network:
            protocol: https
            address: mattermost.uds.dev
            code: 200
